# S1. 회선공유기술
## 1. 회선공유기술의 개념
- 단말기로부터 근접한 곳에 통신회선을 공유할 수 있는 장비 및 프로그램을 설치하여 다수의 단말기가 컴퓨터에 접속할 수 있도록 하는 것이 경제적
- 통신회선을 공유하는 장비 및 프로그램에는 **통신회선을 정적으로 나누어 사용하는 다중화기와, 동적으로 사용하는 집중화기가 있음**

## 2. 다중화기(Multiplexer)
- **하나의 통신 회선을 여러 대의 단말기가 동시에 사용할 수 있도록 하는 장치**
- **고속 통신 회선의 주파수, 시간을 일정한 간격으로 나누어 각 단말기에 할당**
- 각 단말기에서는 컴퓨터 자원을 혼자 사용하는 느낌을 갖게 됨
- 각 단말기의 작업시간이나 주파수를 일정하게 나누는 회로만 필요하므로 비교적 단순
- 모든 단말기가 항상 사용하는 것이 아니므로, 통신회선에 분배된 시간이나 주파수가 낭비되는 단점이 있음

<img width="400" src="https://user-images.githubusercontent.com/29009929/156123446-99fabf18-61f2-4107-b690-f0fc3560f8eb.png">

## 2.1 다중화기 특징
- 여러개의 채널들이 하나의 통신회선을 통하여 결합된 신호의 형태로 전송되고
- 수신측에서 다시 이를 여러개의 채널 신호로 분리하는 역할 수행
- 전송효율을 높일 수 있다는 것이 가장 중요한 특징
- 구조가 단순하면서 규칙적인 전송에 사용함
- 입출력 각각 채널 대역폭이 동일
- m개의 입력회선을 m개의 출력회선으로 다중화하는 장치
- 입력회선의 수는 출력회선의 수와 같아야함
- 여러 채널이 하나의 선로를 동시에 공유 (그렇지만, 각 단말기는 혼자 사용하는 느낌을 받음)
- EX) 사무실에서 인터넷 공유, 허브, 인터넷공유기

## 2.2 다중화기 종류
## 2.2.1 주파수분할 다중화기(FDM : Frequency Division Multiplexer)
### 정의
- 통신회선의 주파수를 여러개의 작은 대역폭으로 분할하여, 여러대의 단말기가 동시에 사용할 수 있도록 함
- 채널 간의 상호간섭을 막기위해 보호대역이 필요하고, 이 보호대역은 채널의 이용률을 낮추게 함
- 전송신호에 필요한 대역폭 < 통신회선의 유효 대역폭 일때 사용
- EX) 라디오를 이용해서 원하는 프로그램 채널 선택, 라디오, TV(실시간, 유선방송)

### 특징
- 전송매체의 유효대역폭이 클 때 사용
- 아날로그 신호 전송에 적합
- 비동기식 전송이며, 버스형(멀티포인트형) 방식에 적합
- 다중화기에 변조 및 복조 기능이 내장되어있어 모뎀 설치가 필요 없음
- 누화잡음 및 상호변조잡음 발생
- 각 채널들간의 상호간섭 방지를 위해 보호대역(Guard Band)이 필요해 대역폭이 낭비됨
- 전송지연없이 실시간전송 가능
- 주파수 변조만 하므로 기술이 간단하고, 비용이 저렴함

      [보호대역(Guard Band)]
      - 주파수분할에서 각 채널을 구분하기 위해, 여유분의 주파수 폭을 두어 채널간의 간섭을 방지
      - 두 채널이 섞이는 현상인 상호변조잡음을 방지하기 위해, 채널과 채널 사이에 여유분의 주파수 대역을 확보하는 것


<img width="400" src="https://user-images.githubusercontent.com/29009929/156123829-c44c494c-031e-40ba-96c8-d5d7a0cb2db7.png">

<img width="400" src="https://user-images.githubusercontent.com/29009929/156128135-93bf4709-cbf8-4ed3-acb6-b5fa9818b76d.png">

## 2.2.2 시간분할 다중화기(TDM : Time Division Multiplexer)
### 정의
- 한 통신회선의 대역폭을 일정한 시간 폭(Time slot)으로 나누어 여러개의 단말기가 하나의 통신회선을 동시에 사용할 수 있도록 하는 기술
- 데이터전송에 필요한 전송률 < 전송매체의 유효전송률 일 때 사용
- 컴퓨터는 각 채널로 할당된 시간간격으로 데이터를 다중화기에 전송하면, 다중화기는 하나의 고속통신회선을 통해 여러개의 자료를 동시에 전송
- EX) 사무실에서 인터넷을 공유하여 사용, 허브, 
### 특징
- 디지털회선에서 주로 사용
- 모뎀의 역할을 할 수 없으므로, 별도의 모뎀이 필요
- 전송지연없이 실시간전송 가능
- 누화잡음 및 상호변조잡음이 발생하지 않음
- 보호대역이 없기 때문에 대역폭 낭비 없음
- 시간분할방식에 따라 동기식시분할다중화기(STDM), 비동기식시분할다중화기(ATDM)로 구분

<img width="400" src="https://user-images.githubusercontent.com/29009929/156129524-017f8607-3374-4c49-9d61-04a62bf82233.png">

### 1. 동기식 시분할 다중화(STDM : Synchronous TDM)
- 모든 단말기에 균등한 시간 폭 제공
- 통신회선의 데이터 전송률 > 전송 디지털신호의 전송률 일 때 사용
- 일반적으로 사용하는 시분할 다중화기 방식
- 전송되는 데이터의 시간 폭을 정확히 맞추기 위한 동기비트가 필요
- 전송할 데이터가 없는 단말장치에도 시간 폭을 할당
- 데이터가 없는 단말에도 채널을 할당하므로 전송용량의 낭비가 큼
- 전송용량보다 많은 터미널 수에 접속할 수 없음
- 다중화된 회선의 데이터전송률 >= 접속장치들의 데이터전송률의 합
- EX) 사무실 10대의 PC 중 1대만 인터넷을 사용하는 경우에도, 나머지 PC에 대해 시간이 할당됨

### 2. 비동기식 시분할 다중화(Asynchronous TDM)
- 실제 전송할 데이터가 있는 단말기에만 시간 폭을 제공하므로 전송효율이 높음
- 매체의 데이터전송률 < 전송 디지털신호의 데이터전송률 일 때 사용
- 전송프레임마다 해당 채널의 시간슬롯이 가변적으로 할당됨
- 전송용량의 낭비가 적음
- 가격이 저렴하고, 접속에 소요되는 시간이 단축됨
- 같은 속도일 경우, 동기식보다 더 많은 수의 터미널에 접속 가능
- 다중화된 회선의 데이터전송률 < 접속 장치들의 데이터전송률의 합
- EX) 사무실 10대의 PC 중 1대만 인터넷을 사용하는 경우, 나머지 PC에 대해 시간이 할당되지 않음
- 통계적, 지능적, 확률적 TDM이라고도 함

      [지능형 시분할 다중화]
      - 요구에 따라 시간 폭을 동적으로 할당하여 데이터를 전송하는 기법

      [통계적 시분할 다중화]
      - 시간 폭을 사용자의 요구에 따라 동적으로 할당하여 데이터를 전송하는 기법

## 2.3 직교주파수분할 다중화기(OFDM : Orthogonal Frequency Division Multiplexer)
- 하나의 정보를 여러개의 반송파로 분할하고, 
- 분할된 반송파 사이의 주파수 간격을 최소화하기 위해 직교 다중화해서 전송하는 방식
- 와이브로 및 디지털 멀티미디어 방송 등에 사용

## 2.4 역다중화기(Inverse Multiplexer)
- 광대역 회선 대신에 두개의 음성대역회선을 이용하여 데이터를 전송할 수 있도록 하는 장치
- 광대역 회선 없이 광대역 속도를 얻을 수 있어 비용이 절감됨
- 하나의 통신회선이 고장나더라도 회선 경로를 변경해서 계속 전송 가능
- 음성 대역의 변조기 및 복조기 역할을 함

## 2.5 코드분할 다중화기(CDM : Code Division Multiplexer)
- 하나의 채널로만 사용하는 아날로그 방식의 문제점을 해결하기 위해 개발됨
- 아날로그형태인 음성을 디지털신호로 전환한 후 여기에 난수를 부과, 여러개의 디지털코드로 변환해 다중화하는 것
- 각 채널에 고유한 코드를 부여하여 해당코드를 가진 단말기만을 인식하게 함
- 이동통신 다중화 방식 (이동전화시스템, 위성DMB등에 사용)

      [WAP : Wireless Application Protocol, 무선응용프로토콜)
      - 이동단말이나 PDA 등 송신 형 무선 단말기 상에서 인터넷을 이용할 수 있도록 해주는 프로토콜의 총칭
      - 무선통신을 사용하는 응용프로그램의 국제표준
      - 주 언어는 WML(무선마크업언어)이며, WML은 XML기반으로 설계됨

      [핸드오프 Hand-Off]
      - 이동전화 사용자가 하나의 기지국에서 다른 기지국으로 이동하는 과정에서 통화가 끊기지 않게 이어주는 기능
      1) 소프트 핸드오프 
        - 기지국과 기지국간에 발생하는 방식
        - 하나의 기지국이 이동전화 이용사의 채널을 먼저 확보하여 연결한 후, 현재 사용중인 채널의 연결을 끊는 방식
      2) 하드 핸드오프
        - 교환기와 교환기간에 발생하는 방식
        - 기지국이 기존의 신호를 끊은 뒤, 다른 기지국으로 신호를 넘기는 방식
      3) 소프터 핸드오프
        - 기지국 내 섹터 간에 발생하는 방식
        - 같은 기지국 내의 특정 섹터에서 통화하다가 다른 섹터 영역으로 통화접근을 할 때,
          소프트 핸드오프와 같은 방법으로 통화채널을 연결해줌


## 3. 집중화기(Concentrator)
- 여러개의 채널을 몇 개의 소수회선으로 공유화시키는 장치
- 각 단말기에서 요구한 자원을 하나의 단말기만을 사용할 수 있도록 제한함
- **하나의 단말기가 고속통신회선을 사용하고 있는 동안, 다른 단말기에서 요청한 자원은 버퍼에서 대기해야 함**
- 각 단말기에서 요청한 시간이나 작업양에 따라 고속통신회선을 사용할 수 있도록 제어하는 회로 및 프로그램이 필요하므로 다중화기보다 복잡함
- 입출력 각각의 채널대역폭이 다름
- 입력회선의 수는 출력회선의 수보다 같거나 많아야함

<img width="400" src="https://user-images.githubusercontent.com/29009929/156137050-dcb769d2-e63a-45df-8baa-867d25fd2ff6.png">

---
# S2. 공유회선점유방식
- 공유회선을 동적으로 점유하는 것으로, MAC(매체접근기술)이라고도 함
- 예약방식 / 경쟁방식(ALOHA, CSMA/CD) / 순서적할당방식(Polling, Token) / 선택방식(selection)
## 1. 예약방식(Reservation)
- 길고 연속적인 정보에 적당한 방식으로 통신회선의 시간 폭을 미리 예약하는 방식
- 2차국에서 1차국으로 송신할 자료가 있다고 신호를 보내면 1차국에서는 통신회선점유표(타임스탬프)를 참조하여 통신회선 사용을 허가
## 2. 경쟁방식(Contention)
- 트래픽이 적은 소량의 데이터전송에 적합한 방식
- 모든 단말기가 컴퓨터에 전송하기 위하여 순서와 규칙이 없이 경쟁하여 선로를 점유하는 방식
- 송신요구를 먼저한 쪽이 송신권을 갖는 방식
- 구현이 쉽고, 송신량이 적을 때 적합하며, 송신량이 많을 경우 성능이 저하됨
### 2.1 ALOHA기법
- 이더넷모델에서 사용되는 공유회선점유기술인 CSMA/CD의 기본원리
- 전송할 데이터가 있으면 점유허가신호를 컴퓨터에 전송하고, 컴퓨터에서 긍정적인 응답(ASK)이 도착할 때까지 일정한 시간을 기다리다가, 응답이 없으면 포기하는 방식
- 경쟁방식 중 대표적 기법
- 긍정적인 응답(ASK)이 컴퓨터(수신측)에서 오면 데이터 전송을 시작
- ACK신호가 오지 않으면, 점유허가신호를 반복 전송하다가 두세 차례 시도에도 도착하지 않으면 결국 포기
- 충돌이 발생되면 수신측에서는 전송을 포기
- 구현이 단순하고 전송률이 약 18%로 성능이 떨어짐
### 2.2 CSMA기법
- 각 단말기가 1차국의 허가(ASK)를 기다리지 않고 서로 경쟁하면서 접근하며, 충돌을 피해가지 않고 충돌을 이용하는 형태로 바뀌게 됨
- 채널이 휴지시간이면 점유함
- 채널이 사용 중이면(충돌) 사용이 끝나기를 기다린 후 즉시 점유하거나 일정한 규칙을 정하여 접근함
### 2.3 CSMA/CD기법
- 통신채널상태를 파악하여 통신채널이 데이터전송을 하지 않을 때 정보를 전송하는 방식
- 데이터프레임 간의 충돌 발생을 해소하기 위해 CSMA방식에 충돌검출기능과 충돌발생 시 재송신하는 기능을 부여함
- 충돌이 생기면, 충돌발생신호를 2차국(단말기)에 전송함
- 충돌발생신호를 정보로 점유시기를 결정함
- 자유경쟁으로 채널사용권을 확보하는 방법으로, 노드 간의 충돌을 허용하는 네트워크 접근방식
- 데이터전송을 하고자 하는 모든 단말장치는 서로 대등한 입장에 있으며, 송신요구를 먼저한 쪽이 송신권을 갖는 방식
- 송신측이 전송할 메시지가 있을 경우 사용가능한 회선이 있을 때까지 기다려야함
- 버스형 구조에서 주로 사용
- 통신량이 많아지면 채널의 이용률은 크게 떨어짐
- 충돌 발생 시 대기시간을 예측하기가 매우 어려움
- LAN에 연결되어있는 어느 한 단말기가 고장나더라도 다른 단말기의 통신에는 전혀 영향을 미치지 않음
- IEEE802.3의 표준규약
## 3. 순서적할당방식(Round Robin 라운드로빈)
- 컴퓨터(1차국)가 단말기(2차국)에게 전송할 데이터의 유무를 순서적으로 묻는 방식
- 각 단말기에게 순서적으로 하나뿐인 공유회선을 점유할 수 있는 기회를 제공함
- 컴퓨터에서 순서적인 공유회선점유가 되도록 제어한다면 이를 **중앙형(Polling)방식**이라고 하며,
- 단말기에서 능동적으로 접근할 수 있도록 공유회선사용허가권(Token)을 부여하여, 단말기들끼리 순서적으로 공평하게 점유하는 방식을 **분산형(Token)방식**이라고 함
### 3.1 중앙형(Polling)
- 컴퓨터에서 정해진 순서에 따라 단말기를 선택하여 통신회선사용의 유무를 문의(Poll)하여 사용하도록 허가하는 방식
- 주종관계일 때 종국이 데이터를 보내려고 한다면, 먼저 주국으로부터 Poll신호를 받아야함
- 중앙컴퓨터에 공유회선점유제어장치 및 프로그램이 존재
- 중앙컴퓨터에서 통제하기 때문에 단말기 간에 전송지연이 거의 없음
- 중앙컴퓨터가 고장날 경우, 통신이 모두 중단됨
- 공유회선의 독점이 불가능
- 우선권이나 대역폭을 확보하는데 유리함
- 효율성이나 경제성이 떨어짐
- 단말기가 수동적으로 동작

### 3.2 분산형(Token)
- 컴퓨터가 가장 멀리 떨어진 단말기에 폴링메시지를 보내면, 폴링메시지를 받은 단말기는 통신회선을 점유하여 데이터를 전송함
- 전송할 데이터가 없으면 즉시 자신이 가리키고 있는 다음 단말기에 폴링메시지를 넘겨주어 해당 단말기가 통신회선을 사용할 수 있도록 함
- 단말기에 공유회선점유제어장치 및 프로그램이 존재
- 중앙에서 통제가 안되므로 단말기 간에 전송지연이 발생 가능
- 통신중에도 다른 단말기의 영향을 받음
- 중앙컴퓨터가 고장나더라도 통신 가능
- 공유회선이 독점될 수 있음
- 우선권이나 대역폭 확보가 불리함
- 효율성이나 경제성 좋음
- 단말기가 능동적으로 동작

### 3.3 토큰버스(Token Bus)
- 버스형이나 트리형에 적합한 방식
- 토큰이 각 단말기를 순서적으로 옮겨다니는 방식
- 각 단말기의 전송시간을 가변적으로 조절가능한 장점이 있지만, CSMA/CD방식에 비해 복잡하고 지연시간이 길다는 단점이 존재함
- 하나의 단말기에는 토큰이 이동해야할 단말기의 정보를 갖고 있음
- 전송량이 많을 때도 안정적이고, 액세스 시간이 일정함
- 하나의 단말기가 고장나면 통신은 전면중단됨
- 각 단말기에 공유회선점유시간을 조절 가능함
- 전송데이터의 길이에 제한이 없음
- 충돌형이 아니므로, 충돌신호를 감지할 필요가 없음
- CSMA/CD보다 기술이 복잡하고, 평균대기시간이 길다
- IEEE802.4의 표준규약 (CSMA/CD는 802.3)

### 3.4 토큰링(Token Ring)
- 링을 따라 순환하는 토큰을 이용하는 방식
- 자유토큰 형태로 링을 회전하다가 임의의 단말기에서 통신회선 사용요청신호가 들어오면 회선사용을 허가하고 바쁜토큰(Busy Token)으로 변한다
- 통신회선사용이 종료되면 다시 자유토큰형태로 변환하여 링을 따라 순환함
- 단말기를 모두 경유해야 하거나, 하나의 단말기가 고장나면 중단되는 토큰버스의 단점을 보완한 방식
- 하나의 단말기가 고장나더라도, 우회하여 다른 단말기와 통신 가능
- 모든 단말기에 공평한 기회를 부여함
- 공유회선의 사용률을 높이기 위해 토큰을 여러개 사용가능
- IEEE802.5의 표준규약 (무선LAN : 802.11)

## 4. 선택방식(Selection)
- 중앙컴퓨터가 주변의 단말기로 데이터를 전송하고자하는 경우, 수신측 단말기의 상태를 확인하는 절차
- 컴퓨터에서 다수의 단말기에 데이터를 전송할 때 사용하는 방식














